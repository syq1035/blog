---
title: JS两个变量交换值
date: 2018-11-25 20:10:10
tags: JS
categories: JS
---

如何不使用中间值，将两个变量的值进行交换。
前三种只适用于number类型的数值交换，第四和第五种适合其他类型。
### 一、普通做法
```
var a = 1, b = 2, tmp;
tmp = a;
a = b;
b = tmp;
```
<!-- more -->   
 普通的做法就是声明多一个临时变量tmp，进行数据交换过程中的缓存。这样的做法直观，易懂。但是，会增加内存的使用。
### 二、算术运算
```
var a = 1, b = 2;
a = a + b; // a = 3, b = 2
b = a - b; // a = 3, b = 1
a = a - b; // a = 2, b = 1
```
 通过算术运算过程中的技巧，可以巧妙地将两个值进行互换。但是，有个缺点就是变量数据溢出。因为JavaScript能存储数字的精度范围是 **-253 到 253**。所以，加法运算，会存在溢出的问题。
### 三、异或运算
```
var a = 1, // 二进制：0001
b = 2; // 二进制：0010
a = a ^ b; // 计算结果：a = 0011, b = 0010
b = a ^ b; // 计算结果：a = 0011, b = 0001
a = a ^ b; // 计算结果：a = 0010, b = 0001
```
 本题巧用位运算的技巧，利用 a ^ b ^ b == a 的特点，进行数值交换，避免了使用算术运算带来的弊端，不会发生溢出问题。
### 四、ES6的解构
```
let a = 1,
b = 2;
[a, b] = [b, a];
```
 用解构的语法特性，一次性解决，简单暴力，哈哈哈~
**更重要的一点：**解构语法还适用于其他类型的变量进行互换。所以，用解构可以很easy地进行互换。
### 五、利用数组特性进行交换
```
var a = 1,
b = 2;
a = [a, b];
b = a[0];
a = a[1];
```

